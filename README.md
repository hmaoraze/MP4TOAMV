# 视频转换工具使用教程

本教程将详细介绍如何下载安装 FFmpeg 并配置系统环境变量，确保视频转换工具能够正常运行。

---

## 目录

1. [软件简介](#软件简介)
2. [FFmpeg 下载与安装](#ffmpeg-下载与安装)
3. [配置系统环境变量](#配置系统环境变量)
4. [验证安装](#验证安装)
5. [运行视频转换工具](#运行视频转换工具)
6. [常见问题解答](#常见问题解答)

---

## 软件简介

**视频转换工具**是一款用于将 MP4 视频转换为 AMV 格式的工具软件。AMV 格式是一种早期的移动视频格式，主要用于便携式媒体播放器。

### 主要功能

- ✅ 支持批量转换多个视频文件
- ✅ 直观的图形用户界面
- ✅ 实时进度显示
- ✅ 转换结果统计
- ✅ 错误自动检测与提示

### 系统要求

- 操作系统：Windows 10 / 11
- 必须安装：FFmpeg（需要手动配置）

---

## FFmpeg 下载与安装

FFmpeg 是一个强大的开源音视频处理工具，本软件依赖它来进行视频格式转换。

### 第一步：访问官方网站

打开浏览器，访问 FFmpeg 官方网站：

👉 **[https://ffmpeg.org/download.html](https://ffmpeg.org/download.html)**

### 第二步：选择 Windows 版本

在下载页面中，找到 **"Windows"** 区域，有两个选项：

- **Option 1: 通过 Gyan.dev 下载（推荐）**
- **Option 2: 通过 BtbN 下载**

这里我们使用 **Gyan.dev** 版本，因为它更稳定且更新及时。

### 第三步：下载 FFmpeg

1. 点击 **"Release builds"** 链接
2. 找到 **"Version 7.1"** 或最新版本区域
3. 下载以下文件：
   ```
   ffmpeg-release-essentials.zip
   ```
   - 文件大小约 70-80 MB

![下载按钮位置示意图]

### 第四步：解压文件

1. 找到下载的 `ffmpeg-release-essentials.zip` 文件
2. 右键点击文件，选择 **"全部提取"**
3. 选择一个位置解压，例如：
   ```
   C:\ffmpeg
   ```
   或
   ```
   D:\Tools\ffmpeg
   ```

解压后的文件夹结构类似：
```
C:\ffmpeg\
├── bin\
│   ├── ffmpeg.exe          (主程序)
│   ├── ffprobe.exe         (媒体分析工具)
│   └── ffplay.exe          (媒体播放工具)
├── doc\
│   ├── ffmpeg.html         (官方文档)
│   └── ...
├── LICENSE                 (许可证文件)
└── README.txt              (自述文件)
```

> **重要**：请记住你的解压路径，后面配置环境变量时需要使用！

---

## 配置系统环境变量

配置系统环境变量的目的是让 Windows 能够找到 FFmpeg 程序，这样视频转换工具才能调用它。

### 方法一：通过系统设置（推荐）

#### Windows 10 系统

1. **打开设置**
   - 按下 `Win + I` 快捷键打开设置
   - 或者右键点击 **"此电脑"** → **"属性"**

2. **进入系统信息**
   - 点击 **"系统"**
   - 向下滚动，点击 **"关于"**
   - 在右侧找到 **"相关设置"**，点击 **"系统信息"**

3. **打开环境变量**
   - 点击右侧的 **"高级系统设置"**
   - 在弹出的窗口中，点击底部的 **"环境变量"** 按钮

4. **编辑 Path 变量**
   - 在 **"用户变量"** 区域（针对当前用户）或 **"系统变量"** 区域（针对所有用户）
   - 找到变量名为 **"Path"** 的变量
   - 选中它，点击 **"编辑"**

5. **添加 FFmpeg 路径**
   - 点击 **"新建"**
   - 输入 FFmpeg 的 `bin` 文件夹完整路径，例如：
     ```
     C:\ffmpeg\bin
     ```
   - 点击 **"确定"** 保存

6. **保存所有设置**
   - 依次点击 **"确定"** 关闭所有窗口

#### Windows 11 系统

1. **打开设置**
   - 按下 `Win + I` 快捷键

2. **进入系统信息**
   - 点击右侧的 **"系统"**
   - 向下滚动到底部，点击 **"系统信息"**

3. **高级设置**
   - 点击 **"高级"** 选项卡
   - 点击底部的 **"环境变量"** 按钮

4. **后续步骤**
   - 与 Windows 10 相同（参考上述步骤 4-6）

### 方法二：通过控制面板

1. **打开控制面板**
   - 按下 `Win + R`，输入 `control`，回车

2. **进入系统设置**
   - 点击 **"系统和安全"**
   - 点击 **"系统"**
   - 点击左侧 **"高级系统设置"**

3. **后续步骤**
   - 与方法一相同（参考步骤 4-6）

### 方法三：快速打开（适用于所有版本）

1. **使用运行对话框**
   - 按下 `Win + R`
   - 输入以下命令并回车：
     ```
     sysdm.cpl
     ```

2. **后续步骤**
   - 直接跳转到"高级"选项卡，点击 **"环境变量"**
   - 与方法一相同（参考步骤 4-6）

---

## 验证安装

完成环境变量配置后，需要验证 FFmpeg 是否正确安装。

### 验证步骤

1. **打开命令提示符**
   - 按下 `Win + R`
   - 输入 `cmd`，回车

2. **输入验证命令**
   - 在命令行中输入：
     ```
     ffmpeg -version
     ```
   - 按回车执行

3. **查看输出结果**

   如果看到类似以下信息，说明安装成功：
   ```
   ffmpeg version 7.1-essentials_build-... Copyright (c) 2000-2024 the FFmpeg developers
   built with gcc 13.2.0 (Rev2)
   ...
   ```

   如果出现 `'ffmpeg' 不是内部或外部命令` 错误，说明环境变量未正确配置，请重新检查步骤 4-6。

### 额外验证（可选）

测试其他 FFmpeg 组件：
```bash
# 测试 ffprobe
ffprobe -version

# 测试 ffplay
ffplay -version
```

---

## 运行视频转换工具

### 步骤 1：启动程序

1. 找到 `VideoConverter.exe` 文件
2. **双击** 文件启动程序

### 步骤 2：选择视频文件

1. 点击界面上的 **"📁 选择视频文件"** 按钮
2. 在弹出的文件选择对话框中
   - 可以选择多个 MP4 文件
   - 点击 **"打开"** 确认选择

### 步骤 3：开始转换

1. 确认已选择的文件数量
2. 点击 **"▶ 开始转换"** 按钮
3. 程序将自动逐个转换视频文件

### 步骤 4：查看结果

1. **总进度条**：显示所有文件的整体转换进度
2. **当前文件**：显示正在转换的文件名
3. **日志区域**：显示详细的转换过程和结果

### 界面说明

```
┌─────────────────────────────────────────┐
│           视频转换工具 - MP4转AMV          │
├─────────────────────────────────────────┤
│ 状态: 就绪                                │
├─────────────────────────────────────────┤
│    [📁 选择视频文件]     [▶ 开始转换]      │
│    已选文件: 3                            │
├─────────────────────────────────────────┤
│ 总进度:                                   │
│ [████████████████████░░░░░] 60%          │
│ 当前文件:                                 │
│ [▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣▣] 正在运行        │
│ video_001.mp4                            │
├─────────────────────────────────────────┤
│ 转换日志:                                 │
│ 📼 正在转换 [1/3]: video_001.mp4         │
│ ✅ 转换成功: video_001.mp4 → video_001.amv│
│ 📼 正在转换 [2/3]: video_002.mp4         │
│ ...                                      │
└─────────────────────────────────────────┘
```

---

## 常见问题解答

### Q1: 程序启动时提示找不到 FFmpeg？

**A:** 请按以下步骤检查：

1. 确认已下载并解压 FFmpeg
2. 确认已将 `ffmpeg\bin` 路径添加到系统 Path 变量
3. **重启命令提示符**或**重启电脑**使环境变量生效
4. 运行 `ffmpeg -version` 验证是否安装成功

### Q2: 转换速度很慢怎么办？

**A:** 视频转换速度取决于：

1. **源文件大小**：大文件需要更长时间
2. **电脑性能**：CPU 性能影响转换速度
3. **FFmpeg 设置**：当前使用适合 AMV 格式的优化参数

### Q3: 转换失败怎么办？

**A:** 常见失败原因及解决方法：

1. **源文件损坏**
   - 尝试用其他播放器打开源文件
   - 重新下载或录制源文件

2. **磁盘空间不足**
   - 确保输出目录有足够空间

3. **文件被占用**
   - 关闭可能使用该文件的其他程序

4. **FFmpeg 版本问题**
   - 尝试下载最新版本的 FFmpeg

### Q4: 可以同时转换多少个文件？

**A:** 建议一次选择 10 个以内，避免程序响应变慢。

### Q5: AMV 格式有什么特点？

**A:** AMV 格式特点：

- **优点**：文件体积小，适合老式便携设备
- **缺点**：画质较低，兼容性有限
- **分辨率**：固定为 160×120
- **帧率**：15 FPS
- **音频**：单声道 22.05kHz

### Q6: 转换后的文件在哪里？

**A:** 转换后的 `.amv` 文件会保存在**源文件同一目录**下，文件名与源文件相同。

### Q7: 如何卸载 FFmpeg？

**A:** 如果需要卸载 FFmpeg：

1. 删除解压的文件夹（如 `C:\ffmpeg`）
2. 从系统 Path 变量中移除该路径
3. 重启电脑

---

## 技术支持

如果在安装或使用过程中遇到其他问题：

1. 检查错误日志信息
2. 确认 FFmpeg 已正确安装并可通过命令行访问
3. 尝试重新运行程序

---

## 版本信息

- **软件版本**：1.0
- **FFmpeg 版本**：7.1+ (推荐)
- **发布日期**：2026年1月

---

*感谢使用视频转换工具！*
